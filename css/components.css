/* ===== Lightbox – mobil fixek ===== */
#lightbox{
  height: 100vh;
  height: 100dvh;
  overscroll-behavior: contain;
}
html.no-scroll, body.no-scroll{
  height: 100%;
  overflow: hidden;
  touch-action: none;
}
#close-lightbox{
  position: fixed;
  top: calc(env(safe-area-inset-top, 0px) + 12px);
  right: calc(env(safe-area-inset-right, 0px) + 12px);
  z-index: 9999;
  width: 44px; height: 44px; border-radius: 9999px;
  display: flex; align-items: center; justify-content: center;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  color: #fff; font-size: 28px; line-height: 1;
}
#close-lightbox:focus{ outline: 2px solid #fff; outline-offset: 2px; }
#lightbox-image{
  max-height: calc(100dvh - 120px);
  object-fit: contain;
}

/* ===== TÉRKÉP – alap ===== */
#work-map{
  width:100%;
  height:520px;
  border-radius:16px;
  box-shadow:0 20px 45px rgba(0,0,0,.25);
  overflow:hidden;
}
.leaflet-container .leaflet-control-attribution{ display:none; }
.county-outline{ filter: drop-shadow(0 2px 8px rgba(0,0,0,.35)); }

.leaflet-tooltip.county-label{
  background:transparent; border:none; box-shadow:none;
  color:#0b1f2a; font-weight:800; letter-spacing:.2px;
  text-shadow:0 1px 2px rgba(255,255,255,.8);
  font-size:12px; padding:0;
}

/* infó panel a jobb-felső sarokban */
.county-info{
  background:#fff;
  border:1px solid #e2e8f0;
  border-radius:12px;
  padding:.5rem .75rem;
  box-shadow:0 6px 16px rgba(0,0,0,.12);
  font: 600 13px/1.2 Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Vissza gomb */
.leaflet-control .reset-btn{
  display:block;
  padding: 0 .6rem;
  line-height: 30px;
  font-weight:700;
  font-size:12px;
  color:#0b1f2a;
  background:#fff;
  text-decoration:none;
  border-radius:4px;
}
.leaflet-control .reset-btn:hover{ background:#f1f5f9; }

/* Város jelölő (zöld pötty + név) – divIcon */
.city-marker{
  font: 700 12px/1 Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:#062028;
  white-space:nowrap;
  background: rgba(255,255,255,.92);
  border:1px solid #d1fae5;
  border-radius:9999px;
  padding: 4px 8px;
  box-shadow:0 8px 16px rgba(0,0,0,.12);
}
.city-marker .city-dot{
  display:inline-block;
  width:8px; height:8px; border-radius:9999px;
  background:#16a34a;
  margin-right:6px;
  box-shadow:0 0 0 2px rgba(255,255,255,.9);
}

/* Mobil finomhangolás */
@media (max-width:640px){
  #work-map{ height:58vh; min-height:320px; max-height:440px; }
  .leaflet-tooltip.county-label{ font-size:10px; transform:translateY(-2px); }
  .city-marker{ font-size:11px; padding:3px 7px; }
}
